<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>NEURA OS — Sistema Neural de Produtividade</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Fonte Michroma para o letreiro -->
    <link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet" />
    <!-- Fallback geral para texto (caso Acumin não esteja instalada na máquina) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <!-- HEADER SUPERIOR -->
      <header class="topbar">
        <div class="topbar-left">
          <span class="topbar-system-label">Sistema Neural de Produtividade</span>
          <span class="topbar-date" id="topbar-date"></span>
        </div>
        <div class="topbar-right">
          <img src="logo-neura-os.svg" alt="Logo NEURA OS" class="topbar-logo" />
          <span class="topbar-title">NEURA OS</span>
          <button type="button" class="theme-toggle" id="theme-toggle">Dark</button>
        </div>
      </header>

      <div class="layout">
        <!-- SIDEBAR -->
        <aside class="sidebar">
          <nav class="nav">
            <button class="nav-item active" data-view="dashboard">Dashboard</button>
            <button class="nav-item" data-view="produtividade">Produtividade</button>
            <button class="nav-item" data-view="estudos">Estudos</button>
            <button class="nav-item" data-view="financeiro">Financeiro</button>
            <button class="nav-item" data-view="tarefas">Tarefas</button>
            <button class="nav-item" data-view="psicologo">Psicólogo</button>
          </nav>

          <div class="sidebar-bottom">
            <div class="energy-chip">
              <span class="label">Energia de hoje</span>
              <span class="value" id="sidebar-energy">–</span>
            </div>
            <p class="sidebar-note">
              No backend, esta energia será ajustada com dados em tempo real da <strong>API do Google Fit</strong> e Mi Band.
            </p>
            <div class="fit-status">
              <span>Google Fit:</span>
              <span class="fit-pill" id="fit-connection-pill-sidebar">
                <span class="fit-dot"></span>
                <span id="fit-connection-label-sidebar">Desconectado</span>
              </span>
            </div>
          </div>
        </aside>

        <!-- CONTEÚDO PRINCIPAL -->
        <main class="main">
          <!-- DASHBOARD -->
          <section class="view view-active" id="view-dashboard">
            <header class="view-header">
              <h1>Dashboard Geral</h1>
              <p>Resumo inteligente de produtividade, energia, tarefas, estudos e finanças.</p>
            </header>

            <div class="grid grid-3">
              <article class="card">
                <h2>Energia Corporal</h2>
                <p class="card-subtitle">EnergyEngine · 0–100</p>
                <div class="energy-block">
                  <div class="energy-bar-shell">
                    <div id="dash-energy-bar" class="energy-bar"></div>
                  </div>
                  <div class="energy-text">
                    <span id="dash-energy-value" class="energy-value">–</span>
                    <span id="dash-energy-label" class="energy-label">Calcule na aba Produtividade</span>
                  </div>
                </div>
                <p class="card-note">
                  A energia considera sono, treino, foco mental e alimentação. No futuro, o backend combinará isso
                  com BPM, sono e passos vindos do Google Fit + Mi Band + ChatGPT.
                </p>
              </article>

              <article class="card">
                <h2>Tarefas do Dia</h2>
                <p class="card-subtitle">Mapa neural minimizado</p>
                <div id="mini-task-map" class="mini-map"></div>
                <div class="mini-stats">
                  <div>
                    <span id="mini-tasks-total" class="stat-number">0</span>
                    <span class="stat-label">Tarefas</span>
                  </div>
                  <div>
                    <span id="mini-tasks-urgent" class="stat-number">0</span>
                    <span class="stat-label">Urgentes</span>
                  </div>
                  <div>
                    <span id="mini-tasks-done" class="stat-number">0</span>
                    <span class="stat-label">Concluídas</span>
                  </div>
                </div>
                <button class="btn-ghost" data-jump="tarefas">Abrir aba Tarefas →</button>
              </article>

              <article class="card">
                <h2>Humor & Psicologia</h2>
                <p class="card-subtitle">Linha emocional · 7 dias</p>
                <pre id="dash-mood" class="ascii-line">_ _ _ _ _ _ _</pre>
                <p class="card-note">
                  A linha emocional é influenciada por sessões de foco, energia e conclusão de tarefas.
                  O Psicólogo do sistema interpreta esses dados para sugerir ajustes de rotina.
                </p>
                <button class="btn-ghost" data-jump="psicologo">Falar com o Psicólogo →</button>
              </article>
            </div>
          </section>

          <!-- PRODUTIVIDADE -->
          <section class="view" id="view-produtividade">
            <header class="view-header">
              <h1>Produtividade & Energia</h1>
              <p>EnergyEngine + Focus Mode + histórico de sessões.</p>
            </header>

            <div class="grid grid-2">
              <article class="card">
                <h2>EnergyEngine</h2>
                <p class="card-subtitle">Registro manual dos dados do dia</p>

                <form id="energy-form" class="form">
                  <div class="form-row">
                    <label for="sleep-hours">Horas de sono</label>
                    <input type="number" id="sleep-hours" min="0" max="24" step="0.1" placeholder="ex: 7.5" />
                  </div>
                  <div class="form-row">
                    <label for="training-level">Treino físico (0–10)</label>
                    <input type="number" id="training-level" min="0" max="10" />
                  </div>
                  <div class="form-row">
                    <label for="focus-level">Foco mental (0–10)</label>
                    <input type="number" id="focus-level" min="0" max="10" />
                  </div>
                  <div class="form-row">
                    <label for="nutrition-level">Qualidade da alimentação (0–10)</label>
                    <input type="number" id="nutrition-level" min="0" max="10" />
                  </div>
                  <p class="field-hint">
                    Esses campos serão preenchidos automaticamente com dados biométricos quando o backend
                    estiver integrado ao Google Fit e Mi Band.
                  </p>
                  <button type="submit" class="btn-primary">Calcular energia de hoje</button>
                </form>

                <div class="energy-block energy-block-large">
                  <div class="energy-bar-shell energy-bar-shell-large">
                    <div id="prod-energy-bar" class="energy-bar"></div>
                  </div>
                  <div class="energy-text">
                    <span id="prod-energy-value" class="energy-value">–</span>
                    <span id="prod-energy-label" class="energy-label">Aguardando cálculo…</span>
                  </div>
                  <p id="prod-energy-summary" class="card-note">
                    Preencha os dados do dia e calcule sua energia para guiar as próximas decisões de estudo,
                    tarefas e freelas.
                  </p>
                </div>

                <div class="google-fit-block">
                  <h3 class="section-title">Integração Google Fit / Mi Band</h3>
                  <p class="card-note">
                    Esta área representa a integração da <strong>API do Google Fit</strong> com a Mi Band.
                    No backend, o sistema irá autenticar via OAuth, ler BPM, sono, passos, estresse e enviar
                    esses dados para o módulo de Psicólogo (ChatGPT) e para o EnergyEngine.
                  </p>
                  <div class="form-inline">
                    <div class="form-row">
                      <label>Estado da conexão</label>
                      <div class="fit-pill" id="fit-connection-pill">
                        <span class="fit-dot"></span>
                        <span id="fit-connection-label">Desconectado</span>
                      </div>
                    </div>
                    <div class="form-row">
                      <button type="button" class="btn-ghost" id="fit-simulate-btn">
                        Simular leitura da API Google Fit
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <article class="card">
                <h2>Focus Mode</h2>
                <p class="card-subtitle">Sessões profundas de concentração</p>

                <form id="focus-form" class="form-inline">
                  <div class="form-row">
                    <label for="focus-task">Tarefa ativa</label>
                    <input type="text" id="focus-task" placeholder="ex: Estudar Java / Entregar arte para cliente" />
                  </div>
                  <div class="form-row">
                    <label for="focus-duration">Duração (min)</label>
                    <input type="number" id="focus-duration" min="5" max="180" value="25" />
                  </div>
                  <button type="button" id="focus-start" class="btn-primary">Iniciar Focus Mode</button>
                </form>

                <div id="focus-session" class="focus-session focus-hidden">
                  <p class="focus-label">Focando em:</p>
                  <p id="focus-session-title" class="focus-title"></p>
                  <div id="focus-timer" class="focus-timer">00:00</div>
                  <p class="focus-energy">
                    Energia atual: <span id="focus-energy-live">–</span>
                  </p>
                  <button type="button" id="focus-stop" class="btn-ghost">Encerrar sessão</button>
                </div>

                <div class="focus-history">
                  <h3>Histórico recente</h3>
                  <ul id="focus-history-list" class="list"></ul>
                </div>
              </article>
            </div>
          </section>

          <!-- ESTUDOS -->
          <section class="view" id="view-estudos">
            <header class="view-header">
              <h1>Módulo de Estudos</h1>
              <p>Integração com Google Classroom (backend) + cronograma guiado pela energia.</p>
            </header>

            <div class="grid grid-2">
              <article class="card">
                <h2>Visão Acadêmica</h2>
                <p class="card-subtitle">Prazos + energia + IA</p>
                <p>
                  O NEURA OS irá consumir a API do <strong>Google Classroom</strong> para importar automaticamente
                  atividades, provas e trabalhos. Esses dados serão cruzados com a energia e o Focus Mode para
                  montar um plano de estudos inteligente.
                </p>
                <ul class="bullet-list">
                  <li>Importação de atividades com prazo, disciplina e tipo;</li>
                  <li>Classificação por esforço, dificuldade e impacto;</li>
                  <li>Subtarefas geradas via IA para cada atividade grande;</li>
                  <li>Auto-plano de estudos ajustado ao EnergyEngine.</li>
                </ul>
                <p class="card-note">
                  Aqui você está vendo apenas o front-end. As chamadas reais à API do Classroom acontecerão no backend.
                </p>
              </article>

              <article class="card">
                <h2>Fila de Estudo</h2>
                <p class="card-subtitle">Blocos + Pomodoro</p>

                <form id="study-form" class="form-inline">
                  <div class="form-row">
                    <label for="study-topic">Tópico</label>
                    <input type="text" id="study-topic" placeholder="ex: Derivadas, Matrizes em Java, Arquitetura..." />
                  </div>
                  <div class="form-row">
                    <label for="study-duration">Duração (min)</label>
                    <input type="number" id="study-duration" min="10" max="180" value="40" />
                  </div>
                  <button type="submit" class="btn-primary">Adicionar bloco</button>
                </form>

                <ul id="study-queue" class="list"></ul>
              </article>
            </div>
          </section>

          <!-- FINANCEIRO -->
          <section class="view" id="view-financeiro">
            <header class="view-header">
              <h1>Planejamento Financeiro</h1>
              <p>Focado em jovem acadêmico que trabalha como freelancer.</p>
            </header>

            <div class="grid grid-2">
              <article class="card">
                <h2>Lançamentos</h2>
                <p class="card-subtitle">Entradas & saídas</p>

                <form id="finance-form" class="form-inline">
                  <div class="form-row">
                    <label for="finance-type">Tipo</label>
                    <select id="finance-type">
                      <option value="entrada">Entrada (freela / salário)</option>
                      <option value="saida">Saída (conta / gasto)</option>
                    </select>
                  </div>
                  <div class="form-row">
                    <label for="finance-desc">Descrição</label>
                    <input type="text" id="finance-desc" placeholder="ex: Arte para academia / Conta de luz" />
                  </div>
                  <div class="form-row">
                    <label for="finance-value">Valor (R$)</label>
                    <input type="number" id="finance-value" step="0.01" />
                  </div>
                  <button type="submit" class="btn-primary">Registrar</button>
                </form>

                <ul id="finance-list" class="list"></ul>
              </article>

              <article class="card">
                <h2>Resumo & Metas</h2>
                <p class="card-subtitle">Metas grandes guiadas pela realidade</p>

                <div class="finance-summary">
                  <div>
                    <span id="finance-in" class="stat-number">R$ 0,00</span>
                    <span class="stat-label">Entradas</span>
                  </div>
                  <div>
                    <span id="finance-out" class="stat-number">R$ 0,00</span>
                    <span class="stat-label">Saídas</span>
                  </div>
                  <div>
                    <span id="finance-balance" class="stat-number">R$ 0,00</span>
                    <span class="stat-label">Saldo</span>
                  </div>
                </div>

                <form id="goal-form" class="form">
                  <div class="form-row">
                    <label for="goal-value">Meta principal (R$)</label>
                    <input type="number" id="goal-value" placeholder="ex: 2500 (notebook)" />
                  </div>
                  <div class="form-row">
                    <label for="goal-deadline">Prazo da meta</label>
                    <input type="date" id="goal-deadline" />
                  </div>
                  <button type="submit" class="btn-ghost">Calcular plano mensal</button>
                </form>

                <p id="goal-result" class="card-note">
                  Informe a meta e o prazo para saber quanto precisa gerar por mês com design e outros trabalhos.
                </p>
              </article>
            </div>
          </section>

          <!-- TAREFAS -->
          <section class="view" id="view-tarefas">
            <header class="view-header">
              <h1>Aba de Tarefas</h1>
              <p>Centraliza tarefas pessoais, acadêmicas, profissionais e financeiras com mapa neural.</p>
            </header>

            <div class="grid grid-2-1">
              <article class="card">
                <h2>Criar tarefa</h2>
                <p class="card-subtitle">Sistema de pesos (urgência, esforço, impacto)</p>

                <form id="task-form" class="form">
                  <div class="form-row">
                    <label for="task-title">Título</label>
                    <input type="text" id="task-title" placeholder="ex: Fazer carrossel para cliente da academia" />
                  </div>
                  <div class="form-row triple">
                    <div>
                      <label for="task-urgency">Urgência (0–10)</label>
                      <input type="number" id="task-urgency" min="0" max="10" />
                    </div>
                    <div>
                      <label for="task-effort">Esforço (0–10)</label>
                      <input type="number" id="task-effort" min="0" max="10" />
                    </div>
                    <div>
                      <label for="task-impact">Impacto (0–10)</label>
                      <input type="number" id="task-impact" min="0" max="10" />
                    </div>
                  </div>
                  <div class="form-row double">
                    <div>
                      <label for="task-date">Data</label>
                      <input type="date" id="task-date" />
                    </div>
                    <div>
                      <label for="task-time">Hora</label>
                      <input type="time" id="task-time" />
                    </div>
                  </div>
                  <div class="form-row">
                    <label for="task-category">Categoria</label>
                    <select id="task-category">
                      <option value="pessoal">Pessoal</option>
                      <option value="academico">Acadêmico</option>
                      <option value="profissional">Profissional</option>
                      <option value="financeiro">Financeiro</option>
                    </select>
                  </div>
                  <button type="submit" class="btn-primary">Adicionar tarefa</button>
                  <p class="field-hint">
                    No backend, tarefas poderão ser importadas automaticamente da aba Estudos (Classroom),
                    Produtividade, Financeiro e IA.
                  </p>
                </form>

                <h3 class="section-title">Lista de tarefas</h3>
                <ul id="task-list" class="list"></ul>
              </article>

              <article class="card">
                <h2>Mapa Conceitual Neural</h2>
                <p class="card-subtitle">Nós proporcionais ao peso da tarefa</p>
                <div id="task-map" class="task-map"></div>
                <p class="card-note">
                  Peso = (urgência + esforço + impacto) / 3. Tarefas mais pesadas e urgentes aparecem maiores
                  e mais brilhantes.
                </p>
              </article>
            </div>
          </section>

          <!-- PSICÓLOGO -->
          <section class="view" id="view-psicologo">
            <header class="view-header">
              <h1>Psicólogo do Sistema</h1>
              <p>
                IA que interpreta energia, foco, procrastinação, tarefas e dados biométricos (no futuro) para gerar
                insights emocionais.
              </p>
            </header>

            <div class="grid grid-2">
              <article class="card">
                <h2>Chat</h2>
                <p class="card-subtitle">Relate seu dia e seu estado mental</p>
                <div id="psych-log" class="chat-log"></div>
                <form id="psych-form" class="chat-input">
                  <input type="text" id="psych-message" placeholder="Descreva como foi o dia, ansiedade, foco, etc." />
                  <button type="submit" class="btn-primary">Enviar</button>
                </form>
                <p class="card-note">
                  Na versão com backend, este chat será conectado a um agente de IA (ChatGPT) que também recebe
                  BPM, sono, passos, estresse e outros parâmetros da Mi Band via Google Fit.
                </p>
              </article>

              <article class="card">
                <h2>Linha Emocional & Insights</h2>
                <p class="card-subtitle">Últimos 7 dias</p>
                <pre id="psych-mood" class="ascii-line">_ _ _ _ _ _ _</pre>
                <ul id="psych-insights" class="bullet-list compact"></ul>
                <p class="card-note">
                  O Psicólogo cruza energia média, sessões de foco e padrão de conclusão de tarefas para sugerir
                  ajustes no Auto-Plano Diário.
                </p>
              </article>
            </div>
          </section>
        </main>
      </div>
    </div>

    <script src="main.js"></script>
  </body>
</html>
